<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GECDV 201: Weekly Prep Hub</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Phosphor Icons -->
    <script src="https://unpkg.com/@phosphor-icons/web"></script>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=Merriweather:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet">
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        deepOcean: '#003049',
                        tealDepth: '#005f73',
                        starryGold: '#ffd166',
                        offWhite: '#fdfbf7',
                    },
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                        serif: ['Merriweather', 'serif'],
                    },
                    animation: {
                        'bounce-short': 'bounce 0.5s ease-in-out 1.5'
                    }
                }
            }
        }
    </script>

    <style>
        /* Zen Earth Theme & Glassmorphism */
        body {
            background: linear-gradient(to bottom, #e0fbfc 0%, #c2dfe3 100%);
            min-height: 100vh;
            color: #003049;
            font-family: 'Inter', sans-serif;
            scroll-behavior: smooth;
        }

        .glass-panel {
            background: rgba(255, 255, 255, 0.85);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.5);
            box-shadow: 0 8px 32px 0 rgba(0, 48, 73, 0.1);
            border-radius: 16px;
        }

        .glass-nav {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(0, 48, 73, 0.1);
        }

        /* Utility specific to Canvas overrides */
        #application-root h1, #application-root h2, #application-root h3 {
            margin-top: 0;
            line-height: 1.2;
        }
        
        #application-root a {
            text-decoration: none;
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }
        ::-webkit-scrollbar-track {
            background: rgba(0, 48, 73, 0.05); 
        }
        ::-webkit-scrollbar-thumb {
            background: #005f73; 
            border-radius: 4px;
        }

        /* Accordion Transitions */
        .accordion-content {
            transition: max-height 0.3s ease-out, opacity 0.3s ease-out;
            max-height: 0;
            opacity: 0;
            overflow: hidden;
        }
        .accordion-content.open {
            max-height: 800px;
            opacity: 1;
        }

        /* Form styling */
        .input-zen {
            background: rgba(255, 255, 255, 0.9);
            border: 2px solid #005f73;
            color: #003049;
            transition: all 0.2s;
        }
        .input-zen:focus {
            border-color: #ffd166;
            outline: none;
            box-shadow: 0 0 0 3px rgba(255, 209, 102, 0.3);
        }

        /* Emoji Radio Selector */
        .emoji-radio:checked + label {
            transform: scale(1.2);
            filter: grayscale(0);
            text-shadow: 0 0 10px rgba(255, 209, 102, 0.8);
        }
        .emoji-radio + label {
            filter: grayscale(0.8);
            transition: all 0.2s;
            cursor: pointer;
        }
        .emoji-radio + label:hover {
            filter: grayscale(0);
            transform: scale(1.1);
        }
        
        /* Modal Animation */
        .modal-enter { opacity: 0; transform: scale(0.95); }
        .modal-enter-active { opacity: 1; transform: scale(1); transition: all 0.2s ease-out; }
        .modal-exit { opacity: 1; transform: scale(1); }
        .modal-exit-active { opacity: 0; transform: scale(0.95); transition: all 0.2s ease-in; }
        
        /* Video Card Hover */
        .video-card:hover .play-overlay { opacity: 1; }
    </style>
</head>
<body id="application-root" class="p-4 md:p-8">

    <!-- Sticky Nav Pill -->
    <nav class="fixed top-4 left-1/2 transform -translate-x-1/2 z-50 glass-nav px-2 py-2 rounded-full shadow-lg max-w-[95vw] overflow-x-auto flex space-x-1 no-scrollbar">
        <a href="#week-1" class="px-3 py-1.5 rounded-full text-xs font-bold text-deepOcean hover:bg-starryGold transition-colors whitespace-nowrap">W1</a>
        <a href="#week-2" class="px-3 py-1.5 rounded-full text-xs font-bold text-deepOcean hover:bg-starryGold transition-colors whitespace-nowrap">W2</a>
        <a href="#week-3" class="px-3 py-1.5 rounded-full text-xs font-bold text-deepOcean hover:bg-starryGold transition-colors whitespace-nowrap">W3</a>
        <a href="#week-4" class="px-3 py-1.5 rounded-full text-xs font-bold text-deepOcean hover:bg-starryGold transition-colors whitespace-nowrap">W4</a>
        <a href="#week-5" class="px-3 py-1.5 rounded-full text-xs font-bold text-deepOcean hover:bg-starryGold transition-colors whitespace-nowrap">W5</a>
        <a href="#week-6" class="px-3 py-1.5 rounded-full text-xs font-bold text-deepOcean hover:bg-starryGold transition-colors whitespace-nowrap">W6</a>
        <a href="#week-7" class="px-3 py-1.5 rounded-full text-xs font-bold text-deepOcean hover:bg-starryGold transition-colors whitespace-nowrap">W7</a>
        <a href="#week-8" class="px-3 py-1.5 rounded-full text-xs font-bold text-deepOcean hover:bg-starryGold transition-colors whitespace-nowrap">W8</a>
        <a href="#week-9" class="px-3 py-1.5 rounded-full text-xs font-bold text-deepOcean hover:bg-starryGold transition-colors whitespace-nowrap">W9</a>
        <a href="#week-10" class="px-3 py-1.5 rounded-full text-xs font-bold text-deepOcean hover:bg-starryGold transition-colors whitespace-nowrap">W10</a>
        <a href="#week-11" class="px-3 py-1.5 rounded-full text-xs font-bold text-deepOcean hover:bg-starryGold transition-colors whitespace-nowrap">W11</a>
        <a href="#week-12" class="px-3 py-1.5 rounded-full text-xs font-bold text-deepOcean hover:bg-starryGold transition-colors whitespace-nowrap">W12</a>
        <a href="#week-13" class="px-3 py-1.5 rounded-full text-xs font-bold text-deepOcean hover:bg-starryGold transition-colors whitespace-nowrap">W13</a>
        <a href="#week-14" class="px-3 py-1.5 rounded-full text-xs font-bold text-deepOcean hover:bg-starryGold transition-colors whitespace-nowrap">W14</a>
        <a href="#week-15" class="px-3 py-1.5 rounded-full text-xs font-bold text-deepOcean hover:bg-starryGold transition-colors whitespace-nowrap">W15</a>
        <a href="#week-16" class="px-3 py-1.5 rounded-full text-xs font-bold text-deepOcean hover:bg-starryGold transition-colors whitespace-nowrap">W16</a>
    </nav>

    <!-- Header Section -->
    <header class="max-w-4xl mx-auto mt-16 mb-12 text-center glass-panel p-8 relative overflow-hidden">
        <div class="absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-starryGold to-tealDepth"></div>
        <div id="class-badge" class="hidden inline-block bg-starryGold text-deepOcean px-4 py-1 rounded-full text-sm font-bold tracking-wide uppercase mb-4 shadow-sm">
            <!-- Populated by JS -->
        </div>
        <h1 class="text-3xl md:text-5xl font-bold text-deepOcean mb-4 font-serif">Self in a Multicultural Society</h1>
        <p class="text-lg md:text-xl text-tealDepth max-w-2xl mx-auto">Explore identity, culture, and critical consciousness. Spring 2026.</p>
    </header>

    <!-- Main Content Container -->
    <main class="max-w-4xl mx-auto space-y-8 pb-20">

        <!-- WEEK 1 -->
        <section id="week-1" class="glass-panel p-6 md:p-8 relative group transition hover:shadow-xl">
            <div class="absolute top-4 right-4 z-10">
                <label class="flex items-center gap-2 cursor-pointer bg-white/50 px-3 py-1 rounded-lg border border-deepOcean/10 hover:bg-white transition">
                    <input type="checkbox" class="progress-check w-5 h-5 accent-tealDepth rounded" data-week="1">
                    <span class="text-xs font-bold text-tealDepth uppercase tracking-wider">Mark Complete</span>
                </label>
            </div>
            
            <div class="flex items-center gap-3 mb-6">
                <span class="bg-deepOcean text-white w-10 h-10 flex items-center justify-center rounded-full font-bold font-serif text-xl">1</span>
                <div>
                    <h2 class="text-2xl font-bold text-deepOcean m-0">Introductions & Syllabus</h2>
                    <p class="text-sm text-tealDepth font-medium">Spring 2026</p>
                </div>
            </div>

            <div class="grid md:grid-cols-2 gap-6">
                <!-- Watch / Read Column -->
                <div class="space-y-4">
                    <h3 class="text-sm font-bold uppercase tracking-widest text-tealDepth border-b border-tealDepth/20 pb-2">Prep Work</h3>
                    <a href="https://umsystem.instructure.com/courses/321213/pages/pre-session-1-guide" class="block bg-white/60 p-4 rounded-xl border-l-4 border-tealDepth hover:bg-white transition shadow-sm">
                        <div class="flex justify-between items-start">
                            <div class="font-bold text-deepOcean">Pre-Session Guide 1</div>
                            <span class="bg-tealDepth/10 text-tealDepth text-[10px] px-2 py-0.5 rounded-full font-bold">READ</span>
                        </div>
                        <p class="text-sm text-gray-600 mt-1">Review syllabus and sign up for presentations.</p>
                    </a>
                </div>

                <!-- Discuss / Do Column -->
                <div class="space-y-4">
                    <h3 class="text-sm font-bold uppercase tracking-widest text-starryGold text-shadow-sm border-b border-starryGold/50 pb-2 text-deepOcean">Live Session</h3>
                    <div class="bg-starryGold/10 border-2 border-starryGold rounded-xl p-4">
                        <div class="flex items-center gap-2 mb-2 text-deepOcean font-bold">
                            <i class="ph ph-users-three text-xl"></i>
                            <span>Agenda</span>
                        </div>
                        <p class="text-sm text-deepOcean/80 italic">Introductions, Syllabus Review, Presentation Sign-ups.</p>
                    </div>
                    <!-- Exit Ticket Button -->
                    <button onclick="openPulseCheck(1)" class="w-full bg-deepOcean text-white p-4 rounded-xl text-center font-bold hover:bg-tealDepth transition shadow-md flex items-center justify-center gap-2 group pulse-btn" data-week="1">
                        <i class="ph ph-check-circle text-xl"></i> 
                        <span class="btn-text">Check-in: Week 1 Pulse</span>
                    </button>
                </div>
            </div>

            <!-- Q&A Section -->
            <div class="mt-8 pt-6 border-t border-gray-200/50">
                <button onclick="toggleQA('qa-1')" class="text-sm font-bold text-tealDepth flex items-center gap-2 hover:text-deepOcean">
                    <i class="ph ph-question"></i> Ask an Anonymous Question (Week 1)
                </button>
                <div id="qa-1" class="accordion-content mt-4">
                    <form class="qa-form space-y-3" data-week="1">
                        <textarea placeholder="Type your question here... (Only the instructor sees this)" class="input-zen w-full p-3 rounded-lg text-sm min-h-[80px]"></textarea>
                        <button type="submit" class="bg-starryGold text-deepOcean px-4 py-2 rounded-lg text-sm font-bold hover:bg-white border border-deepOcean transition">Send Question</button>
                        <div class="form-status text-xs mt-2 hidden"></div>
                    </form>
                </div>
            </div>
        </section>

        <!-- WEEK 2: UPDATED WITH VIDEO GRID -->
        <section id="week-2" class="glass-panel p-6 md:p-8 relative group transition hover:shadow-xl">
            <div class="absolute top-4 right-4 z-10">
                <label class="flex items-center gap-2 cursor-pointer bg-white/50 px-3 py-1 rounded-lg border border-deepOcean/10 hover:bg-white transition">
                    <input type="checkbox" class="progress-check w-5 h-5 accent-tealDepth rounded" data-week="2">
                    <span class="text-xs font-bold text-tealDepth uppercase tracking-wider">Mark Complete</span>
                </label>
            </div>
            
            <div class="flex items-center gap-3 mb-6">
                <span class="bg-deepOcean text-white w-10 h-10 flex items-center justify-center rounded-full font-bold font-serif text-xl">2</span>
                <div>
                    <h2 class="text-2xl font-bold text-deepOcean m-0">Deconstructing Privilege</h2>
                    <p class="text-sm text-tealDepth font-medium">Race, Racism & The Self</p>
                </div>
            </div>

            <p class="text-sm text-deepOcean/80 mb-6 max-w-2xl italic border-l-4 border-starryGold pl-4 py-1">
                "Privilege" is a contested term. Watch these four distinct perspectives. Your goal is not to agree with all of them, but to understand how the definitions and arguments differ.
            </p>

            <!-- Video Grid -->
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-8">
                
                <!-- Video 1 -->
                <a href="https://www.youtube.com/watch?v=7gUO3yN8eFg" target="_blank" class="video-card block relative rounded-xl overflow-hidden shadow-md group">
                    <img src="https://img.youtube.com/vi/7gUO3yN8eFg/mqdefault.jpg" alt="Jay Shetty" class="w-full h-40 object-cover object-center transform group-hover:scale-105 transition duration-500">
                    <div class="play-overlay absolute inset-0 bg-deepOcean/40 flex items-center justify-center opacity-0 transition duration-300">
                        <i class="ph ph-play-circle text-4xl text-white"></i>
                    </div>
                    <div class="absolute top-2 left-2 bg-black/70 text-white text-[10px] px-2 py-0.5 rounded font-bold uppercase tracking-wider">The Metaphor</div>
                    <div class="absolute bottom-0 left-0 w-full bg-gradient-to-t from-deepOcean to-transparent p-3 pt-8">
                        <div class="text-white font-bold text-sm leading-tight">Privilege Explained</div>
                        <div class="text-white/80 text-xs">Jay Shetty</div>
                    </div>
                </a>

                <!-- Video 2 -->
                <a href="https://www.youtube.com/watch?v=y25fPzr8fM4" target="_blank" class="video-card block relative rounded-xl overflow-hidden shadow-md group">
                    <img src="https://img.youtube.com/vi/y25fPzr8fM4/mqdefault.jpg" alt="John Amaechi" class="w-full h-40 object-cover object-center transform group-hover:scale-105 transition duration-500">
                    <div class="play-overlay absolute inset-0 bg-deepOcean/40 flex items-center justify-center opacity-0 transition duration-300">
                        <i class="ph ph-play-circle text-4xl text-white"></i>
                    </div>
                    <div class="absolute top-2 left-2 bg-tealDepth/90 text-white text-[10px] px-2 py-0.5 rounded font-bold uppercase tracking-wider">The Systemic View</div>
                    <div class="absolute bottom-0 left-0 w-full bg-gradient-to-t from-deepOcean to-transparent p-3 pt-8">
                        <div class="text-white font-bold text-sm leading-tight">What is White Privilege?</div>
                        <div class="text-white/80 text-xs">John Amaechi</div>
                    </div>
                </a>

                <!-- Video 3 -->
                <a href="https://www.youtube.com/watch?v=GR4gUQIEsns" target="_blank" class="video-card block relative rounded-xl overflow-hidden shadow-md group">
                    <img src="https://img.youtube.com/vi/GR4gUQIEsns/mqdefault.jpg" alt="Ben Shapiro" class="w-full h-40 object-cover object-center transform group-hover:scale-105 transition duration-500">
                    <div class="play-overlay absolute inset-0 bg-deepOcean/40 flex items-center justify-center opacity-0 transition duration-300">
                        <i class="ph ph-play-circle text-4xl text-white"></i>
                    </div>
                    <div class="absolute top-2 left-2 bg-red-800/80 text-white text-[10px] px-2 py-0.5 rounded font-bold uppercase tracking-wider">The Counter-Argument</div>
                    <div class="absolute bottom-0 left-0 w-full bg-gradient-to-t from-deepOcean to-transparent p-3 pt-8">
                        <div class="text-white font-bold text-sm leading-tight">Debunking Privilege</div>
                        <div class="text-white/80 text-xs">Ben Shapiro</div>
                    </div>
                </a>

                <!-- Video 4 -->
                <a href="https://www.youtube.com/watch?v=CwVK7P3ZdeI" target="_blank" class="video-card block relative rounded-xl overflow-hidden shadow-md group">
                    <img src="https://img.youtube.com/vi/CwVK7P3ZdeI/mqdefault.jpg" alt="Jesse Lee Peterson" class="w-full h-40 object-cover object-center transform group-hover:scale-105 transition duration-500">
                    <div class="play-overlay absolute inset-0 bg-deepOcean/40 flex items-center justify-center opacity-0 transition duration-300">
                        <i class="ph ph-play-circle text-4xl text-white"></i>
                    </div>
                    <div class="absolute top-2 left-2 bg-gray-700/80 text-white text-[10px] px-2 py-0.5 rounded font-bold uppercase tracking-wider">Alternative View</div>
                    <div class="absolute bottom-0 left-0 w-full bg-gradient-to-t from-deepOcean to-transparent p-3 pt-8">
                        <div class="text-white font-bold text-sm leading-tight">Is it Real?</div>
                        <div class="text-white/80 text-xs">Jesse Lee Peterson</div>
                    </div>
                </a>
            </div>

            <!-- Discussion Prep -->
            <div class="bg-white/60 p-5 rounded-xl border border-tealDepth/20 mb-6">
                <div class="flex items-center gap-2 mb-3 text-deepOcean font-bold border-b border-tealDepth/10 pb-2">
                    <i class="ph ph-lightbulb text-xl text-starryGold"></i>
                    <span>Breakout Discussion Prep</span>
                </div>
                <ul class="space-y-3 text-sm text-deepOcean/90">
                    <li class="flex gap-2">
                        <span class="font-bold text-tealDepth">1.</span>
                        <span>Amaechi describes privilege as "the absence of inconvenience." How does this definition compare to Shapiroâ€™s view of privilege as "individual decision making"?</span>
                    </li>
                    <li class="flex gap-2">
                        <span class="font-bold text-tealDepth">2.</span>
                        <span>Jay Shetty uses a race metaphor. Is this a helpful simplification, or does it miss the complexity that Peterson or Shapiro emphasize?</span>
                    </li>
                    <li class="flex gap-2">
                        <span class="font-bold text-tealDepth">3.</span>
                        <span>Identify one point of <strong>convergence</strong> (agreement) and one point of fundamental <strong>divergence</strong> between these four speakers.</span>
                    </li>
                </ul>
            </div>

            <div class="flex flex-col md:flex-row gap-4">
                <div class="flex-1">
                     <button onclick="openPulseCheck(2)" class="w-full h-full bg-deepOcean text-white p-4 rounded-xl text-center font-bold hover:bg-tealDepth transition shadow-md flex items-center justify-center gap-2 group pulse-btn" data-week="2">
                        <i class="ph ph-check-circle text-xl"></i> 
                        <span class="btn-text">Check-in: Week 2 Pulse</span>
                    </button>
                </div>
            </div>

            <div class="mt-8 pt-6 border-t border-gray-200/50">
                <button onclick="toggleQA('qa-2')" class="text-sm font-bold text-tealDepth flex items-center gap-2 hover:text-deepOcean"><i class="ph ph-question"></i> Ask Question (Week 2)</button>
                <div id="qa-2" class="accordion-content mt-4">
                    <form class="qa-form space-y-3" data-week="2">
                        <textarea class="input-zen w-full p-3 rounded-lg text-sm min-h-[80px]" placeholder="Type question..."></textarea>
                        <button type="submit" class="bg-starryGold text-deepOcean px-4 py-2 rounded-lg text-sm font-bold hover:bg-white border border-deepOcean transition">Send</button>
                        <div class="form-status text-xs mt-2 hidden"></div>
                    </form>
                </div>
            </div>
        </section>

        <!-- WEEK 3 -->
        <section id="week-3" class="glass-panel p-6 md:p-8 relative">
            <div class="absolute top-4 right-4 z-10"><label class="flex items-center gap-2 cursor-pointer bg-white/50 px-3 py-1 rounded-lg border border-deepOcean/10"><input type="checkbox" class="progress-check w-5 h-5 accent-tealDepth rounded" data-week="3"><span class="text-xs font-bold text-tealDepth uppercase tracking-wider">Complete</span></label></div>
            <div class="flex items-center gap-3 mb-6"><span class="bg-deepOcean text-white w-10 h-10 flex items-center justify-center rounded-full font-bold font-serif text-xl">3</span><div><h2 class="text-2xl font-bold text-deepOcean m-0">Race & Identity</h2></div></div>
            <div class="grid md:grid-cols-2 gap-6">
                <div class="space-y-4">
                    <a href="https://umsystem.instructure.com/courses/321213/pages/pre-session-guide-race" class="block bg-white/60 p-4 rounded-xl border-l-4 border-tealDepth hover:bg-white transition shadow-sm"><div class="font-bold text-deepOcean">Pre-Session Guide 3</div></a>
                </div>
                <div class="space-y-4">
                    <div class="bg-starryGold/10 border-2 border-starryGold rounded-xl p-4"><p class="text-sm text-deepOcean/80 italic">Breakout Discussion 2</p></div>
                    <button onclick="openPulseCheck(3)" class="w-full bg-deepOcean text-white p-4 rounded-xl text-center font-bold hover:bg-tealDepth transition shadow-md flex items-center justify-center gap-2 group pulse-btn" data-week="3"><i class="ph ph-check-circle text-xl"></i> <span class="btn-text">Check-in: Week 3 Pulse</span></button>
                </div>
            </div>
             <div class="mt-8 pt-6 border-t border-gray-200/50">
                <button onclick="toggleQA('qa-3')" class="text-sm font-bold text-tealDepth flex items-center gap-2 hover:text-deepOcean"><i class="ph ph-question"></i> Ask Question (Week 3)</button>
                <div id="qa-3" class="accordion-content mt-4"><form class="qa-form space-y-3" data-week="3"><textarea class="input-zen w-full p-3 rounded-lg text-sm min-h-[80px]"></textarea><button type="submit" class="bg-starryGold text-deepOcean px-4 py-2 rounded-lg text-sm font-bold hover:bg-white border border-deepOcean transition">Send</button><div class="form-status text-xs mt-2 hidden"></div></form></div>
            </div>
        </section>

        <!-- WEEK 4 -->
        <section id="week-4" class="glass-panel p-6 md:p-8 relative">
            <div class="absolute top-4 right-4 z-10"><label class="flex items-center gap-2 cursor-pointer bg-white/50 px-3 py-1 rounded-lg border border-deepOcean/10"><input type="checkbox" class="progress-check w-5 h-5 accent-tealDepth rounded" data-week="4"><span class="text-xs font-bold text-tealDepth uppercase tracking-wider">Complete</span></label></div>
            <div class="flex items-center gap-3 mb-6"><span class="bg-deepOcean text-white w-10 h-10 flex items-center justify-center rounded-full font-bold font-serif text-xl">4</span><div><h2 class="text-2xl font-bold text-deepOcean m-0">Student Presentations</h2></div></div>
            <div class="grid md:grid-cols-2 gap-6">
                <div class="space-y-4">
                    <a href="https://umsystem.instructure.com/courses/321213/pages/pre-session-guide-who-am-i-as-a-cultural-being-presentations" class="block bg-white/60 p-4 rounded-xl border-l-4 border-tealDepth hover:bg-white transition shadow-sm"><div class="font-bold text-deepOcean">Pre-Session Guide 4</div></a>
                </div>
                <div class="space-y-4">
                    <div class="bg-starryGold/10 border-2 border-starryGold rounded-xl p-4"><p class="text-sm text-deepOcean/80 italic">"Who am I as a Cultural Being?"</p></div>
                    <button onclick="openPulseCheck(4)" class="w-full bg-deepOcean text-white p-4 rounded-xl text-center font-bold hover:bg-tealDepth transition shadow-md flex items-center justify-center gap-2 group pulse-btn" data-week="4"><i class="ph ph-check-circle text-xl"></i> <span class="btn-text">Check-in: Week 4 Pulse</span></button>
                </div>
            </div>
             <div class="mt-8 pt-6 border-t border-gray-200/50">
                <button onclick="toggleQA('qa-4')" class="text-sm font-bold text-tealDepth flex items-center gap-2 hover:text-deepOcean"><i class="ph ph-question"></i> Ask Question (Week 4)</button>
                <div id="qa-4" class="accordion-content mt-4"><form class="qa-form space-y-3" data-week="4"><textarea class="input-zen w-full p-3 rounded-lg text-sm min-h-[80px]"></textarea><button type="submit" class="bg-starryGold text-deepOcean px-4 py-2 rounded-lg text-sm font-bold hover:bg-white border border-deepOcean transition">Send</button><div class="form-status text-xs mt-2 hidden"></div></form></div>
            </div>
        </section>

        <!-- WEEK 5 -->
        <section id="week-5" class="glass-panel p-6 md:p-8 relative">
            <div class="absolute top-4 right-4 z-10"><label class="flex items-center gap-2 cursor-pointer bg-white/50 px-3 py-1 rounded-lg border border-deepOcean/10"><input type="checkbox" class="progress-check w-5 h-5 accent-tealDepth rounded" data-week="5"><span class="text-xs font-bold text-tealDepth uppercase tracking-wider">Complete</span></label></div>
            <div class="flex items-center gap-3 mb-6"><span class="bg-deepOcean text-white w-10 h-10 flex items-center justify-center rounded-full font-bold font-serif text-xl">5</span><div><h2 class="text-2xl font-bold text-deepOcean m-0">Toxic Masculinity</h2></div></div>
            <div class="grid md:grid-cols-2 gap-6">
                <div class="space-y-4">
                    <a href="https://umsystem.instructure.com/courses/321213/pages/toxic-masculinity" class="block bg-white/60 p-4 rounded-xl border-l-4 border-tealDepth hover:bg-white transition shadow-sm"><div class="font-bold text-deepOcean">Pre-Session Guide 5</div></a>
                </div>
                <div class="space-y-4">
                    <div class="bg-starryGold/10 border-2 border-starryGold rounded-xl p-4"><p class="text-sm text-deepOcean/80 italic">Breakout Discussion 3</p></div>
                    <button onclick="openPulseCheck(5)" class="w-full bg-deepOcean text-white p-4 rounded-xl text-center font-bold hover:bg-tealDepth transition shadow-md flex items-center justify-center gap-2 group pulse-btn" data-week="5"><i class="ph ph-check-circle text-xl"></i> <span class="btn-text">Check-in: Week 5 Pulse</span></button>
                </div>
            </div>
             <div class="mt-8 pt-6 border-t border-gray-200/50">
                <button onclick="toggleQA('qa-5')" class="text-sm font-bold text-tealDepth flex items-center gap-2 hover:text-deepOcean"><i class="ph ph-question"></i> Ask Question (Week 5)</button>
                <div id="qa-5" class="accordion-content mt-4"><form class="qa-form space-y-3" data-week="5"><textarea class="input-zen w-full p-3 rounded-lg text-sm min-h-[80px]"></textarea><button type="submit" class="bg-starryGold text-deepOcean px-4 py-2 rounded-lg text-sm font-bold hover:bg-white border border-deepOcean transition">Send</button><div class="form-status text-xs mt-2 hidden"></div></form></div>
            </div>
        </section>

        <!-- WEEK 6 -->
        <section id="week-6" class="glass-panel p-6 md:p-8 relative">
            <div class="absolute top-4 right-4 z-10"><label class="flex items-center gap-2 cursor-pointer bg-white/50 px-3 py-1 rounded-lg border border-deepOcean/10"><input type="checkbox" class="progress-check w-5 h-5 accent-tealDepth rounded" data-week="6"><span class="text-xs font-bold text-tealDepth uppercase tracking-wider">Complete</span></label></div>
            <div class="flex items-center gap-3 mb-6"><span class="bg-deepOcean text-white w-10 h-10 flex items-center justify-center rounded-full font-bold font-serif text-xl">6</span><div><h2 class="text-2xl font-bold text-deepOcean m-0">Student Presentations</h2></div></div>
            <div class="grid md:grid-cols-2 gap-6">
                <div class="space-y-4">
                    <a href="https://umsystem.instructure.com/courses/321213/pages/pre-session-guide-who-am-i-as-a-cultural-being-presentations" class="block bg-white/60 p-4 rounded-xl border-l-4 border-tealDepth hover:bg-white transition shadow-sm"><div class="font-bold text-deepOcean">Pre-Session Guide 6</div></a>
                </div>
                <div class="space-y-4">
                    <button onclick="openPulseCheck(6)" class="w-full bg-deepOcean text-white p-4 rounded-xl text-center font-bold hover:bg-tealDepth transition shadow-md flex items-center justify-center gap-2 group pulse-btn" data-week="6"><i class="ph ph-check-circle text-xl"></i> <span class="btn-text">Check-in: Week 6 Pulse</span></button>
                </div>
            </div>
             <div class="mt-8 pt-6 border-t border-gray-200/50">
                <button onclick="toggleQA('qa-6')" class="text-sm font-bold text-tealDepth flex items-center gap-2 hover:text-deepOcean"><i class="ph ph-question"></i> Ask Question (Week 6)</button>
                <div id="qa-6" class="accordion-content mt-4"><form class="qa-form space-y-3" data-week="6"><textarea class="input-zen w-full p-3 rounded-lg text-sm min-h-[80px]"></textarea><button type="submit" class="bg-starryGold text-deepOcean px-4 py-2 rounded-lg text-sm font-bold hover:bg-white border border-deepOcean transition">Send</button><div class="form-status text-xs mt-2 hidden"></div></form></div>
            </div>
        </section>

        <!-- WEEK 7 -->
        <section id="week-7" class="glass-panel p-6 md:p-8 relative">
            <div class="absolute top-4 right-4 z-10"><label class="flex items-center gap-2 cursor-pointer bg-white/50 px-3 py-1 rounded-lg border border-deepOcean/10"><input type="checkbox" class="progress-check w-5 h-5 accent-tealDepth rounded" data-week="7"><span class="text-xs font-bold text-tealDepth uppercase tracking-wider">Complete</span></label></div>
            <div class="flex items-center gap-3 mb-6"><span class="bg-deepOcean text-white w-10 h-10 flex items-center justify-center rounded-full font-bold font-serif text-xl">7</span><div><h2 class="text-2xl font-bold text-deepOcean m-0">Student Presentations</h2></div></div>
            <div class="grid md:grid-cols-2 gap-6">
                <div class="space-y-4">
                    <a href="https://umsystem.instructure.com/courses/321213/pages/pre-session-guide-who-am-i-as-a-cultural-being-presentations" class="block bg-white/60 p-4 rounded-xl border-l-4 border-tealDepth hover:bg-white transition shadow-sm"><div class="font-bold text-deepOcean">Pre-Session Guide 7</div></a>
                </div>
                <div class="space-y-4">
                     <button onclick="openPulseCheck(7)" class="w-full bg-deepOcean text-white p-4 rounded-xl text-center font-bold hover:bg-tealDepth transition shadow-md flex items-center justify-center gap-2 group pulse-btn" data-week="7"><i class="ph ph-check-circle text-xl"></i> <span class="btn-text">Check-in: Week 7 Pulse</span></button>
                </div>
            </div>
             <div class="mt-8 pt-6 border-t border-gray-200/50">
                <button onclick="toggleQA('qa-7')" class="text-sm font-bold text-tealDepth flex items-center gap-2 hover:text-deepOcean"><i class="ph ph-question"></i> Ask Question (Week 7)</button>
                <div id="qa-7" class="accordion-content mt-4"><form class="qa-form space-y-3" data-week="7"><textarea class="input-zen w-full p-3 rounded-lg text-sm min-h-[80px]"></textarea><button type="submit" class="bg-starryGold text-deepOcean px-4 py-2 rounded-lg text-sm font-bold hover:bg-white border border-deepOcean transition">Send</button><div class="form-status text-xs mt-2 hidden"></div></form></div>
            </div>
        </section>

        <!-- WEEK 8 -->
        <section id="week-8" class="glass-panel p-6 md:p-8 relative">
            <div class="absolute top-4 right-4 z-10"><label class="flex items-center gap-2 cursor-pointer bg-white/50 px-3 py-1 rounded-lg border border-deepOcean/10"><input type="checkbox" class="progress-check w-5 h-5 accent-tealDepth rounded" data-week="8"><span class="text-xs font-bold text-tealDepth uppercase tracking-wider">Complete</span></label></div>
            <div class="flex items-center gap-3 mb-6"><span class="bg-deepOcean text-white w-10 h-10 flex items-center justify-center rounded-full font-bold font-serif text-xl">8</span><div><h2 class="text-2xl font-bold text-deepOcean m-0">Lecture + Breakout 4</h2></div></div>
            <div class="grid md:grid-cols-2 gap-6">
                <div class="space-y-4">
                    <a href="https://umsystem.instructure.com/courses/321213/pages/pre-session-guide-removed" class="block bg-white/60 p-4 rounded-xl border-l-4 border-tealDepth hover:bg-white transition shadow-sm"><div class="font-bold text-deepOcean">Pre-Session Guide 8</div></a>
                </div>
                <div class="space-y-4">
                     <button onclick="openPulseCheck(8)" class="w-full bg-deepOcean text-white p-4 rounded-xl text-center font-bold hover:bg-tealDepth transition shadow-md flex items-center justify-center gap-2 group pulse-btn" data-week="8"><i class="ph ph-check-circle text-xl"></i> <span class="btn-text">Check-in: Week 8 Pulse</span></button>
                </div>
            </div>
             <div class="mt-8 pt-6 border-t border-gray-200/50">
                <button onclick="toggleQA('qa-8')" class="text-sm font-bold text-tealDepth flex items-center gap-2 hover:text-deepOcean"><i class="ph ph-question"></i> Ask Question (Week 8)</button>
                <div id="qa-8" class="accordion-content mt-4"><form class="qa-form space-y-3" data-week="8"><textarea class="input-zen w-full p-3 rounded-lg text-sm min-h-[80px]"></textarea><button type="submit" class="bg-starryGold text-deepOcean px-4 py-2 rounded-lg text-sm font-bold hover:bg-white border border-deepOcean transition">Send</button><div class="form-status text-xs mt-2 hidden"></div></form></div>
            </div>
        </section>

        <!-- WEEK 9 -->
        <section id="week-9" class="glass-panel p-6 md:p-8 relative">
            <div class="absolute top-4 right-4 z-10"><label class="flex items-center gap-2 cursor-pointer bg-white/50 px-3 py-1 rounded-lg border border-deepOcean/10"><input type="checkbox" class="progress-check w-5 h-5 accent-tealDepth rounded" data-week="9"><span class="text-xs font-bold text-tealDepth uppercase tracking-wider">Complete</span></label></div>
            <div class="flex items-center gap-3 mb-6"><span class="bg-deepOcean text-white w-10 h-10 flex items-center justify-center rounded-full font-bold font-serif text-xl">9</span><div><h2 class="text-2xl font-bold text-deepOcean m-0">Cultural Being Presentations</h2></div></div>
            <div class="grid md:grid-cols-2 gap-6">
                <div class="space-y-4">
                    <a href="https://umsystem.instructure.com/courses/321213/pages/pre-session-guide-who-am-i-as-a-cultural-being-presentations" class="block bg-white/60 p-4 rounded-xl border-l-4 border-tealDepth hover:bg-white transition shadow-sm"><div class="font-bold text-deepOcean">Pre-Session Guide 9</div></a>
                </div>
                <div class="space-y-4">
                     <p class="text-sm text-tealDepth italic">Prepare for student presentations.</p>
                     <button onclick="openPulseCheck(9)" class="w-full bg-deepOcean text-white p-4 rounded-xl text-center font-bold hover:bg-tealDepth transition shadow-md flex items-center justify-center gap-2 group pulse-btn" data-week="9"><i class="ph ph-check-circle text-xl"></i> <span class="btn-text">Check-in: Week 9 Pulse</span></button>
                </div>
            </div>
             <div class="mt-8 pt-6 border-t border-gray-200/50">
                <button onclick="toggleQA('qa-9')" class="text-sm font-bold text-tealDepth flex items-center gap-2 hover:text-deepOcean"><i class="ph ph-question"></i> Ask Question (Week 9)</button>
                <div id="qa-9" class="accordion-content mt-4"><form class="qa-form space-y-3" data-week="9"><textarea class="input-zen w-full p-3 rounded-lg text-sm min-h-[80px]"></textarea><button type="submit" class="bg-starryGold text-deepOcean px-4 py-2 rounded-lg text-sm font-bold hover:bg-white border border-deepOcean transition">Send</button><div class="form-status text-xs mt-2 hidden"></div></form></div>
            </div>
        </section>

        <!-- WEEK 10 -->
        <section id="week-10" class="glass-panel p-6 md:p-8 relative">
            <div class="absolute top-4 right-4 z-10"><label class="flex items-center gap-2 cursor-pointer bg-white/50 px-3 py-1 rounded-lg border border-deepOcean/10"><input type="checkbox" class="progress-check w-5 h-5 accent-tealDepth rounded" data-week="10"><span class="text-xs font-bold text-tealDepth uppercase tracking-wider">Complete</span></label></div>
            <div class="flex items-center gap-3 mb-6"><span class="bg-deepOcean text-white w-10 h-10 flex items-center justify-center rounded-full font-bold font-serif text-xl">10</span><div><h2 class="text-2xl font-bold text-deepOcean m-0">Mini Lecture + Discussion</h2></div></div>
            <div class="grid md:grid-cols-2 gap-6">
                <div class="space-y-4">
                    <a href="https://umsystem.instructure.com/courses/321213/pages/pre-session-guide-who-am-i-as-a-cultural-being-presentations" class="block bg-white/60 p-4 rounded-xl border-l-4 border-tealDepth hover:bg-white transition shadow-sm"><div class="font-bold text-deepOcean">Pre-Session Guide 10</div></a>
                </div>
                <div class="space-y-4">
                     <button onclick="openPulseCheck(10)" class="w-full bg-deepOcean text-white p-4 rounded-xl text-center font-bold hover:bg-tealDepth transition shadow-md flex items-center justify-center gap-2 group pulse-btn" data-week="10"><i class="ph ph-check-circle text-xl"></i> <span class="btn-text">Check-in: Week 10 Pulse</span></button>
                </div>
            </div>
             <div class="mt-8 pt-6 border-t border-gray-200/50">
                <button onclick="toggleQA('qa-10')" class="text-sm font-bold text-tealDepth flex items-center gap-2 hover:text-deepOcean"><i class="ph ph-question"></i> Ask Question (Week 10)</button>
                <div id="qa-10" class="accordion-content mt-4"><form class="qa-form space-y-3" data-week="10"><textarea class="input-zen w-full p-3 rounded-lg text-sm min-h-[80px]"></textarea><button type="submit" class="bg-starryGold text-deepOcean px-4 py-2 rounded-lg text-sm font-bold hover:bg-white border border-deepOcean transition">Send</button><div class="form-status text-xs mt-2 hidden"></div></form></div>
            </div>
        </section>

        <!-- WEEK 11 -->
        <section id="week-11" class="glass-panel p-6 md:p-8 relative">
            <div class="absolute top-4 right-4 z-10"><label class="flex items-center gap-2 cursor-pointer bg-white/50 px-3 py-1 rounded-lg border border-deepOcean/10"><input type="checkbox" class="progress-check w-5 h-5 accent-tealDepth rounded" data-week="11"><span class="text-xs font-bold text-tealDepth uppercase tracking-wider">Complete</span></label></div>
             <div class="flex items-center gap-3 mb-6"><span class="bg-deepOcean text-white w-10 h-10 flex items-center justify-center rounded-full font-bold font-serif text-xl">11</span><div><h2 class="text-2xl font-bold text-deepOcean m-0">Presentations + Q&A</h2></div></div>
            <div class="grid md:grid-cols-2 gap-6">
                 <div class="space-y-4">
                    <a href="https://umsystem.instructure.com/courses/321213/pages/pre-session-guide-who-am-i-as-a-cultural-being-presentations" class="block bg-white/60 p-4 rounded-xl border-l-4 border-tealDepth hover:bg-white transition shadow-sm"><div class="font-bold text-deepOcean">Pre-Session Guide 11</div></a>
                </div>
                 <div class="space-y-4">
                     <button onclick="openPulseCheck(11)" class="w-full bg-deepOcean text-white p-4 rounded-xl text-center font-bold hover:bg-tealDepth transition shadow-md flex items-center justify-center gap-2 group pulse-btn" data-week="11"><i class="ph ph-check-circle text-xl"></i> <span class="btn-text">Check-in: Week 11 Pulse</span></button>
                </div>
            </div>
             <div class="mt-8 pt-6 border-t border-gray-200/50">
                <button onclick="toggleQA('qa-11')" class="text-sm font-bold text-tealDepth flex items-center gap-2 hover:text-deepOcean"><i class="ph ph-question"></i> Ask Question (Week 11)</button>
                <div id="qa-11" class="accordion-content mt-4"><form class="qa-form space-y-3" data-week="11"><textarea class="input-zen w-full p-3 rounded-lg text-sm min-h-[80px]"></textarea><button type="submit" class="bg-starryGold text-deepOcean px-4 py-2 rounded-lg text-sm font-bold hover:bg-white border border-deepOcean transition">Send</button><div class="form-status text-xs mt-2 hidden"></div></form></div>
            </div>
        </section>

        <!-- WEEK 12 -->
        <section id="week-12" class="glass-panel p-6 md:p-8 relative">
             <div class="absolute top-4 right-4 z-10"><label class="flex items-center gap-2 cursor-pointer bg-white/50 px-3 py-1 rounded-lg border border-deepOcean/10"><input type="checkbox" class="progress-check w-5 h-5 accent-tealDepth rounded" data-week="12"><span class="text-xs font-bold text-tealDepth uppercase tracking-wider">Complete</span></label></div>
            <div class="flex items-center gap-3 mb-6"><span class="bg-deepOcean text-white w-10 h-10 flex items-center justify-center rounded-full font-bold font-serif text-xl">12</span><div><h2 class="text-2xl font-bold text-deepOcean m-0">Lecture + Breakout 5</h2></div></div>
             <div class="grid md:grid-cols-2 gap-6">
                 <div class="space-y-4">
                    <a href="#" class="block bg-white/60 p-4 rounded-xl border-l-4 border-tealDepth hover:bg-white transition shadow-sm"><div class="font-bold text-deepOcean">Pre-Session Guide 12</div></a>
                </div>
                 <div class="space-y-4">
                    <div class="bg-starryGold/10 border-2 border-starryGold rounded-xl p-4"><p class="text-sm text-deepOcean/80 italic">Breakout Discussion 5</p></div>
                     <button onclick="openPulseCheck(12)" class="w-full bg-deepOcean text-white p-4 rounded-xl text-center font-bold hover:bg-tealDepth transition shadow-md flex items-center justify-center gap-2 group pulse-btn" data-week="12"><i class="ph ph-check-circle text-xl"></i> <span class="btn-text">Check-in: Week 12 Pulse</span></button>
                </div>
            </div>
             <div class="mt-8 pt-6 border-t border-gray-200/50">
                <button onclick="toggleQA('qa-12')" class="text-sm font-bold text-tealDepth flex items-center gap-2 hover:text-deepOcean"><i class="ph ph-question"></i> Ask Question (Week 12)</button>
                <div id="qa-12" class="accordion-content mt-4"><form class="qa-form space-y-3" data-week="12"><textarea class="input-zen w-full p-3 rounded-lg text-sm min-h-[80px]"></textarea><button type="submit" class="bg-starryGold text-deepOcean px-4 py-2 rounded-lg text-sm font-bold hover:bg-white border border-deepOcean transition">Send</button><div class="form-status text-xs mt-2 hidden"></div></form></div>
            </div>
        </section>

         <!-- WEEK 13 -->
         <section id="week-13" class="glass-panel p-6 md:p-8 relative">
            <div class="absolute top-4 right-4 z-10"><label class="flex items-center gap-2 cursor-pointer bg-white/50 px-3 py-1 rounded-lg border border-deepOcean/10"><input type="checkbox" class="progress-check w-5 h-5 accent-tealDepth rounded" data-week="13"><span class="text-xs font-bold text-tealDepth uppercase tracking-wider">Complete</span></label></div>
            <div class="flex items-center gap-3 mb-6"><span class="bg-deepOcean text-white w-10 h-10 flex items-center justify-center rounded-full font-bold font-serif text-xl">13</span><div><h2 class="text-2xl font-bold text-deepOcean m-0">Lecture + Breakout 6</h2></div></div>
             <div class="grid md:grid-cols-2 gap-6">
                 <div class="space-y-4">
                    <a href="#" class="block bg-white/60 p-4 rounded-xl border-l-4 border-tealDepth hover:bg-white transition shadow-sm"><div class="font-bold text-deepOcean">Pre-Session Guide 13</div></a>
                </div>
                 <div class="space-y-4">
                     <button onclick="openPulseCheck(13)" class="w-full bg-deepOcean text-white p-4 rounded-xl text-center font-bold hover:bg-tealDepth transition shadow-md flex items-center justify-center gap-2 group pulse-btn" data-week="13"><i class="ph ph-check-circle text-xl"></i> <span class="btn-text">Check-in: Week 13 Pulse</span></button>
                </div>
            </div>
             <div class="mt-8 pt-6 border-t border-gray-200/50">
                <button onclick="toggleQA('qa-13')" class="text-sm font-bold text-tealDepth flex items-center gap-2 hover:text-deepOcean"><i class="ph ph-question"></i> Ask Question (Week 13)</button>
                <div id="qa-13" class="accordion-content mt-4"><form class="qa-form space-y-3" data-week="13"><textarea class="input-zen w-full p-3 rounded-lg text-sm min-h-[80px]"></textarea><button type="submit" class="bg-starryGold text-deepOcean px-4 py-2 rounded-lg text-sm font-bold hover:bg-white border border-deepOcean transition">Send</button><div class="form-status text-xs mt-2 hidden"></div></form></div>
            </div>
        </section>

         <!-- WEEK 14 -->
         <section id="week-14" class="glass-panel p-6 md:p-8 relative opacity-75">
            <div class="flex items-center gap-3 mb-6"><span class="bg-gray-400 text-white w-10 h-10 flex items-center justify-center rounded-full font-bold font-serif text-xl">14</span><div><h2 class="text-2xl font-bold text-gray-600 m-0">Fall Break / Thanksgiving</h2></div></div>
            <p class="text-center italic text-gray-500">No Class Session. Rest and recharge.</p>
        </section>

        <!-- WEEK 15 -->
        <section id="week-15" class="glass-panel p-6 md:p-8 relative">
            <div class="absolute top-4 right-4 z-10"><label class="flex items-center gap-2 cursor-pointer bg-white/50 px-3 py-1 rounded-lg border border-deepOcean/10"><input type="checkbox" class="progress-check w-5 h-5 accent-tealDepth rounded" data-week="15"><span class="text-xs font-bold text-tealDepth uppercase tracking-wider">Complete</span></label></div>
            <div class="flex items-center gap-3 mb-6"><span class="bg-deepOcean text-white w-10 h-10 flex items-center justify-center rounded-full font-bold font-serif text-xl">15</span><div><h2 class="text-2xl font-bold text-deepOcean m-0">Lecture + Breakout 7</h2></div></div>
             <div class="grid md:grid-cols-2 gap-6">
                 <div class="space-y-4">
                    <a href="#" class="block bg-white/60 p-4 rounded-xl border-l-4 border-tealDepth hover:bg-white transition shadow-sm"><div class="font-bold text-deepOcean">Pre-Session Guide 14</div></a>
                </div>
                 <div class="space-y-4">
                     <button onclick="openPulseCheck(15)" class="w-full bg-deepOcean text-white p-4 rounded-xl text-center font-bold hover:bg-tealDepth transition shadow-md flex items-center justify-center gap-2 group pulse-btn" data-week="15"><i class="ph ph-check-circle text-xl"></i> <span class="btn-text">Check-in: Week 15 Pulse</span></button>
                </div>
            </div>
             <div class="mt-8 pt-6 border-t border-gray-200/50">
                <button onclick="toggleQA('qa-15')" class="text-sm font-bold text-tealDepth flex items-center gap-2 hover:text-deepOcean"><i class="ph ph-question"></i> Ask Question (Week 15)</button>
                <div id="qa-15" class="accordion-content mt-4"><form class="qa-form space-y-3" data-week="15"><textarea class="input-zen w-full p-3 rounded-lg text-sm min-h-[80px]"></textarea><button type="submit" class="bg-starryGold text-deepOcean px-4 py-2 rounded-lg text-sm font-bold hover:bg-white border border-deepOcean transition">Send</button><div class="form-status text-xs mt-2 hidden"></div></form></div>
            </div>
        </section>

        <!-- WEEK 16 -->
        <section id="week-16" class="glass-panel p-6 md:p-8 relative">
            <div class="absolute top-4 right-4 z-10"><label class="flex items-center gap-2 cursor-pointer bg-white/50 px-3 py-1 rounded-lg border border-deepOcean/10"><input type="checkbox" class="progress-check w-5 h-5 accent-tealDepth rounded" data-week="16"><span class="text-xs font-bold text-tealDepth uppercase tracking-wider">Complete</span></label></div>
            <div class="flex items-center gap-3 mb-6"><span class="bg-deepOcean text-white w-10 h-10 flex items-center justify-center rounded-full font-bold font-serif text-xl">16</span><div><h2 class="text-2xl font-bold text-deepOcean m-0">Final Reflection Week</h2></div></div>
             <div class="grid md:grid-cols-2 gap-6">
                 <div class="space-y-4">
                    <a href="#" class="block bg-white/60 p-4 rounded-xl border-l-4 border-tealDepth hover:bg-white transition shadow-sm"><div class="font-bold text-deepOcean">Pre-Session Guide 15</div></a>
                </div>
                 <div class="space-y-4">
                    <div class="bg-starryGold/10 border-2 border-starryGold rounded-xl p-4"><p class="text-sm text-deepOcean/80 italic">Topic TBD</p></div>
                     <button onclick="openPulseCheck(16)" class="w-full bg-deepOcean text-white p-4 rounded-xl text-center font-bold hover:bg-tealDepth transition shadow-md flex items-center justify-center gap-2 group pulse-btn" data-week="16"><i class="ph ph-check-circle text-xl"></i> <span class="btn-text">Check-in: Week 16 Pulse</span></button>
                </div>
            </div>
             <div class="mt-8 pt-6 border-t border-gray-200/50">
                <button onclick="toggleQA('qa-16')" class="text-sm font-bold text-tealDepth flex items-center gap-2 hover:text-deepOcean"><i class="ph ph-question"></i> Ask Question (Week 16)</button>
                <div id="qa-16" class="accordion-content mt-4"><form class="qa-form space-y-3" data-week="16"><textarea class="input-zen w-full p-3 rounded-lg text-sm min-h-[80px]"></textarea><button type="submit" class="bg-starryGold text-deepOcean px-4 py-2 rounded-lg text-sm font-bold hover:bg-white border border-deepOcean transition">Send</button><div class="form-status text-xs mt-2 hidden"></div></form></div>
            </div>
        </section>

    </main>

    <!-- Footer -->
    <footer class="text-center text-deepOcean/60 py-8">
        <p>Â© 2026 GECDV 201 | UMKC School of Education</p>
    </footer>

    <!-- PULSE CHECK MODAL -->
    <div id="pulse-modal" class="fixed inset-0 z-[100] hidden flex items-center justify-center p-4">
        <div class="absolute inset-0 bg-deepOcean/60 backdrop-blur-sm" onclick="closePulseCheck()"></div>
        <div class="bg-white rounded-2xl shadow-2xl w-full max-w-md relative z-10 overflow-hidden transform transition-all scale-95 opacity-0" id="pulse-modal-content">
            <div class="bg-gradient-to-r from-deepOcean to-tealDepth p-6 text-white text-center relative">
                <button onclick="closePulseCheck()" class="absolute top-4 right-4 text-white/70 hover:text-white"><i class="ph ph-x text-2xl"></i></button>
                <h3 class="text-2xl font-serif font-bold mb-1">Weekly Pulse Check</h3>
                <p class="text-white/80 text-sm">Week <span id="pulse-week-display">1</span> Check-in</p>
            </div>
            
            <form id="pulse-form" class="p-6 space-y-6">
                <!-- Name Field -->
                <div>
                    <label class="block text-xs font-bold uppercase tracking-widest text-tealDepth mb-2">Student Name</label>
                    <input type="text" id="pulse-name" required placeholder="Your Full Name" class="input-zen w-full p-3 rounded-lg text-sm">
                </div>

                <!-- Emoji Sentiment -->
                <div>
                    <label class="block text-xs font-bold uppercase tracking-widest text-tealDepth mb-3 text-center">Current Vibe?</label>
                    <div class="flex justify-between px-2">
                        <div class="text-center">
                            <input type="radio" name="vibe" id="vibe-1" value="confused" class="emoji-radio hidden" required>
                            <label for="vibe-1" class="text-3xl block">ðŸ¤”</label>
                            <span class="text-[10px] text-gray-500 font-bold uppercase mt-1 block">Lost</span>
                        </div>
                        <div class="text-center">
                            <input type="radio" name="vibe" id="vibe-2" value="tired" class="emoji-radio hidden">
                            <label for="vibe-2" class="text-3xl block">ðŸ˜´</label>
                            <span class="text-[10px] text-gray-500 font-bold uppercase mt-1 block">Tired</span>
                        </div>
                        <div class="text-center">
                            <input type="radio" name="vibe" id="vibe-3" value="good" class="emoji-radio hidden">
                            <label for="vibe-3" class="text-3xl block">ðŸ™‚</label>
                            <span class="text-[10px] text-gray-500 font-bold uppercase mt-1 block">Good</span>
                        </div>
                        <div class="text-center">
                            <input type="radio" name="vibe" id="vibe-4" value="inspired" class="emoji-radio hidden">
                            <label for="vibe-4" class="text-3xl block">ðŸ¤©</label>
                            <span class="text-[10px] text-gray-500 font-bold uppercase mt-1 block">Lit</span>
                        </div>
                        <div class="text-center">
                            <input type="radio" name="vibe" id="vibe-5" value="mindblown" class="emoji-radio hidden">
                            <label for="vibe-5" class="text-3xl block">ðŸ¤¯</label>
                            <span class="text-[10px] text-gray-500 font-bold uppercase mt-1 block">Wow</span>
                        </div>
                    </div>
                </div>

                <!-- Takeaway -->
                <div>
                    <label class="block text-xs font-bold uppercase tracking-widest text-tealDepth mb-2">One Key Takeaway (140 chars)</label>
                    <textarea id="pulse-takeaway" required maxlength="140" placeholder="One thing that stuck with me..." class="input-zen w-full p-3 rounded-lg text-sm h-24 resize-none"></textarea>
                    <div class="text-right text-[10px] text-gray-400 mt-1"><span id="char-count">0</span>/140</div>
                </div>

                <button type="submit" class="w-full bg-starryGold text-deepOcean font-bold py-3 rounded-xl hover:bg-tealDepth hover:text-white transition shadow-md flex items-center justify-center gap-2">
                    <i class="ph ph-stamp text-xl"></i> Submit & Stamp
                </button>
            </form>
        </div>
    </div>

    <!-- Firebase SDKs -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getAuth, signInAnonymously, signInWithCustomToken } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        import { getFirestore, collection, addDoc, serverTimestamp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";

        // --- PASTE KEYS BELOW ONLY IF RUNNING LOCALLY OUTSIDE CANVAS ---
        const manualFirebaseConfig = {
            apiKey: "", 
            authDomain: "",
            projectId: "",
            storageBucket: "",
            messagingSenderId: "",
            appId: ""
        };

        let db, auth, appId = 'default-app-id';
        let user = null;

        // --- INIT FIREBASE ---
        async function initFirebase() {
            try {
                let config;
                if (typeof __firebase_config !== 'undefined') {
                    config = JSON.parse(__firebase_config);
                    if (typeof __app_id !== 'undefined') appId = __app_id;
                } else if (manualFirebaseConfig.apiKey) {
                    config = manualFirebaseConfig;
                }

                if (config) {
                    const app = initializeApp(config);
                    auth = getAuth(app);
                    db = getFirestore(app);

                    if (typeof __initial_auth_token !== 'undefined' && __initial_auth_token) {
                        await signInWithCustomToken(auth, __initial_auth_token);
                    } else {
                        await signInAnonymously(auth);
                    }
                    user = auth.currentUser;
                }
            } catch (e) { console.error("Firebase Init Error:", e); }
        }
        initFirebase();

        // --- LOGIC: URL Params & Section Handling ---
        const urlParams = new URLSearchParams(window.location.search);
        const dayParam = urlParams.get('day') ? urlParams.get('day').toLowerCase() : null;
        const badgeEl = document.getElementById('class-badge');
        let collectionName = 'questions_general'; 
        let exitTicketCollection = 'attendance_log_general';

        if (dayParam === 'tuesday') {
            badgeEl.innerText = "Welcome Tuesday Class";
            badgeEl.classList.remove('hidden');
            collectionName = 'questions_tuesday';
            exitTicketCollection = 'attendance_log_tuesday';
        } else if (dayParam === 'wednesday') {
            badgeEl.innerText = "Welcome Wednesday Class";
            badgeEl.classList.remove('hidden');
            collectionName = 'questions_wednesday';
            exitTicketCollection = 'attendance_log_wednesday';
        }

        // --- PULSE CHECK LOGIC ---
        let currentPulseWeek = 1;
        
        window.openPulseCheck = function(week) {
            // Check if already submitted locally
            if(localStorage.getItem(`pulse_submitted_w${week}`)) {
                // If already submitted, maybe just show a "You're done!" toast?
                // For now, let's allow re-opening but maybe pre-fill?
                // Actually, let's keep it simple: Open modal.
            }
            
            currentPulseWeek = week;
            document.getElementById('pulse-week-display').innerText = week;
            
            const modal = document.getElementById('pulse-modal');
            const content = document.getElementById('pulse-modal-content');
            
            modal.classList.remove('hidden');
            // Small delay to allow display:block to apply before opacity transition
            setTimeout(() => {
                content.classList.remove('scale-95', 'opacity-0');
                content.classList.add('scale-100', 'opacity-100');
            }, 10);

            // Pre-fill name if available
            const savedName = localStorage.getItem('student_name_pref');
            if(savedName) document.getElementById('pulse-name').value = savedName;
        };

        window.closePulseCheck = function() {
            const modal = document.getElementById('pulse-modal');
            const content = document.getElementById('pulse-modal-content');
            
            content.classList.remove('scale-100', 'opacity-100');
            content.classList.add('scale-95', 'opacity-0');
            
            setTimeout(() => {
                modal.classList.add('hidden');
            }, 200);
        };

        // Character Count
        document.getElementById('pulse-takeaway').addEventListener('input', function(e) {
            document.getElementById('char-count').innerText = e.target.value.length;
        });

        // Handle Pulse Submission
        document.getElementById('pulse-form').addEventListener('submit', async function(e) {
            e.preventDefault();
            const btn = e.target.querySelector('button');
            const originalText = btn.innerHTML;
            
            btn.innerHTML = '<i class="ph ph-spinner animate-spin text-xl"></i> Stamping...';
            btn.disabled = true;

            const name = document.getElementById('pulse-name').value;
            const vibe = document.querySelector('input[name="vibe"]:checked').value;
            const takeaway = document.getElementById('pulse-takeaway').value;

            // Save name preference
            localStorage.setItem('student_name_pref', name);

            try {
                if(db && auth.currentUser) {
                     await addDoc(collection(db, 'artifacts', appId, 'public', 'data', exitTicketCollection), {
                        name: name,
                        week: currentPulseWeek,
                        vibe: vibe,
                        takeaway: takeaway,
                        timestamp: serverTimestamp()
                    });
                } else {
                    console.warn("DB not connected, simulating success.");
                    await new Promise(r => setTimeout(r, 1000));
                }

                // Success UI
                // 1. Mark button in UI as complete
                const weekBtn = document.querySelector(`.pulse-btn[data-week="${currentPulseWeek}"]`);
                if(weekBtn) {
                    weekBtn.innerHTML = '<i class="ph ph-stamp text-xl"></i> <span class="btn-text">Stamped! âœ…</span>';
                    weekBtn.classList.remove('bg-deepOcean', 'hover:bg-tealDepth');
                    weekBtn.classList.add('bg-green-600', 'hover:bg-green-700', 'cursor-default');
                    weekBtn.onclick = null; // Disable click
                    
                    // Save local state
                    localStorage.setItem(`pulse_submitted_w${currentPulseWeek}`, 'true');
                }

                // 2. Close Modal
                closePulseCheck();
                
                // 3. Reset Form
                e.target.reset();

            } catch (err) {
                console.error(err);
                alert("Error saving ticket. Please try again.");
            } finally {
                btn.innerHTML = originalText;
                btn.disabled = false;
            }
        });

        // Initialize Button States from Local Storage
        document.querySelectorAll('.pulse-btn').forEach(btn => {
            const w = btn.dataset.week;
            if(localStorage.getItem(`pulse_submitted_w${w}`)) {
                btn.innerHTML = '<i class="ph ph-stamp text-xl"></i> <span class="btn-text">Stamped! âœ…</span>';
                btn.classList.remove('bg-deepOcean', 'hover:bg-tealDepth');
                btn.classList.add('bg-green-600', 'hover:bg-green-700', 'cursor-default');
                btn.onclick = null;
            }
        });

        // --- LOGIC: Local Storage Progress (Checkboxes) ---
        const checkboxes = document.querySelectorAll('.progress-check');
        checkboxes.forEach(cb => {
            const weekId = cb.dataset.week;
            const isChecked = localStorage.getItem(`course_progress_w${weekId}`) === 'true';
            cb.checked = isChecked;
            if(isChecked) {
                cb.closest('section').classList.add('border-tealDepth');
                cb.nextElementSibling.innerText = "COMPLETED";
            }
        });

        checkboxes.forEach(cb => {
            cb.addEventListener('change', (e) => {
                const weekId = e.target.dataset.week;
                const isChecked = e.target.checked;
                localStorage.setItem(`course_progress_w${weekId}`, isChecked);
                const labelText = e.target.nextElementSibling;
                if(isChecked) {
                    labelText.innerText = "COMPLETED";
                } else {
                    labelText.innerText = "MARK COMPLETE";
                }
            });
        });

        // --- LOGIC: Accordion Toggle ---
        window.toggleQA = function(id) {
            const el = document.getElementById(id);
            if (el.classList.contains('open')) {
                el.classList.remove('open');
            } else {
                el.classList.add('open');
            }
        }

        // --- LOGIC: Q&A Form Submission ---
        const forms = document.querySelectorAll('.qa-form');
        forms.forEach(form => {
            form.addEventListener('submit', async (e) => {
                e.preventDefault();
                const weekId = form.dataset.week;
                const textarea = form.querySelector('textarea');
                const btn = form.querySelector('button');
                const status = form.querySelector('.form-status');
                const questionText = textarea.value.trim();

                if (!questionText) return;

                const originalBtnText = btn.innerText;
                btn.innerText = "Sending...";
                btn.disabled = true;

                try {
                    if(db && auth.currentUser) {
                         await addDoc(collection(db, 'artifacts', appId, 'public', 'data', collectionName), {
                            text: questionText,
                            week: weekId,
                            timestamp: serverTimestamp(),
                            resolved: false
                        });
                    }
                    btn.innerText = "Sent!";
                    btn.classList.replace('bg-starryGold', 'bg-green-500');
                    btn.classList.replace('text-deepOcean', 'text-white');
                    textarea.value = "";
                    status.innerText = "Your question has been sent anonymously.";
                    status.classList.remove('hidden');
                    status.classList.add('text-green-700');

                    setTimeout(() => {
                        btn.innerText = originalBtnText;
                        btn.disabled = false;
                        btn.classList.replace('bg-green-500', 'bg-starryGold');
                        btn.classList.replace('text-white', 'text-deepOcean');
                        status.classList.add('hidden');
                    }, 3000);

                } catch (error) {
                    console.error("Error adding document: ", error);
                    btn.innerText = "Error";
                }
            });
        });
    </script>
</body>
</html>
